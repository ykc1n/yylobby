diff --git a/node_modules/electron-trpc-experimental/dist/main.cjs b/node_modules/electron-trpc-experimental/dist/main.cjs
index 67d91c6..f69adcf 100644
--- a/node_modules/electron-trpc-experimental/dist/main.cjs
+++ b/node_modules/electron-trpc-experimental/dist/main.cjs
@@ -1 +1 @@
-"use strict";var G=r=>{throw TypeError(r)};var L=(r,e,n)=>e.has(r)||G("Cannot "+n);var w=(r,e,n)=>(L(r,e,"read from private field"),n?n.call(r):e.get(r)),j=(r,e,n)=>e.has(r)?G("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Q=(r,e,n,t)=>(L(r,e,"write to private field"),t?t.call(r,n):e.set(r,n),n),I=(r,e,n)=>(L(r,e,"access private method"),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const fe=require("electron"),q="electron-trpc",de={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};function pe(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}var be=Object.create,te=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyNames,Ce=Object.getPrototypeOf,he=Object.prototype.hasOwnProperty,A=(r,e)=>function(){return e||(0,r[ne(r)[0]])((e={exports:{}}).exports,e),e.exports},me=(r,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(var o=ne(e),i=0,u=o.length,f;i<u;i++)f=o[i],!he.call(r,f)&&f!==n&&te(r,f,{get:(c=>e[c]).bind(null,f),enumerable:!(t=ye(e,f))||t.enumerable});return r},x=(r,e,n)=>(n=r!=null?be(Ce(r)):{},me(te(n,"default",{value:r,enumerable:!0}),r));const Ee={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function ge(r){var e;return(e=Ee[r])!==null&&e!==void 0?e:500}function _e(r){return ge(r.code)}var oe=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(r,e){function n(t){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),we=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(r,e){var n=oe().default;function t(o,i){if(n(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var f=u.call(o,i||"default");if(n(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}),ve=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(r,e){var n=oe().default,t=we();function o(i){var u=t(i,"string");return n(u)=="symbol"?u:u+""}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}),se=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(r,e){var n=ve();function t(o,i,u){return(i=n(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}),W=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(r,e){var n=se();function t(i,u){var f=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);u&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(i,b).enumerable})),f.push.apply(f,c)}return f}function o(i){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?t(Object(f),!0).forEach(function(c){n(i,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(f)):t(Object(f)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(f,c))})}return i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}),V=x(W());function k(r){const{path:e,error:n,config:t}=r,{code:o}=r.error,i={message:n.message,code:de[o],data:{code:o,httpStatus:_e(n)}};return t.isDev&&typeof r.error.stack=="string"&&(i.data.stack=r.error.stack),typeof e=="string"&&(i.data.path=e),t.errorFormatter((0,V.default)((0,V.default)({},r),{},{shape:i}))}var K=x(se()),Oe=class extends Error{};function Pe(r){if(r instanceof Error)return r;const e=typeof r;if(!(e==="undefined"||e==="function"||r===null)){if(e!=="object")return new Error(String(r));if(pe(r))return Object.assign(new Oe,r)}}function N(r){if(r instanceof P||r instanceof Error&&r.name==="TRPCError")return r;const e=new P({code:"INTERNAL_SERVER_ERROR",cause:r});return r instanceof Error&&r.stack&&(e.stack=r.stack),e}var P=class extends Error{constructor(r){var e,n,t;const o=Pe(r.cause),i=(e=(n=r.message)!==null&&n!==void 0?n:o==null?void 0:o.message)!==null&&e!==void 0?e:r.code;super(i,{cause:o}),(0,K.default)(this,"cause",void 0),(0,K.default)(this,"code",void 0),this.code=r.code,this.name="TRPCError",(t=this.cause)!==null&&t!==void 0||(this.cause=o)}},T=x(W());function J(r,e){return"error"in e?(0,T.default)((0,T.default)({},e),{},{error:r.transformer.output.serialize(e.error)}):"data"in e.result?(0,T.default)((0,T.default)({},e),{},{result:(0,T.default)((0,T.default)({},e.result),{},{data:r.transformer.output.serialize(e.result.data)})}):e}function Fe(r,e){return Array.isArray(e)?e.map(n=>J(r,n)):J(r,e)}x(W());function Re(r){return typeof r=="function"}async function Te(r,e){const{_def:n}=r;let t=n.procedures[e];for(;!t;){const o=Object.keys(n.lazy).find(u=>e.startsWith(u));if(!o)return null;await n.lazy[o].load(),t=n.procedures[e]}return t}async function Se(r){const{type:e,path:n}=r,t=await Te(r.router,n);if(!t||!Re(t)||t._def.type!==e&&!r.allowMethodOverride)throw new P({code:"NOT_FOUND",message:`No "${e}"-procedure on path "${n}"`});/* istanbul ignore if -- @preserve */if(t._def.type!==e&&r.allowMethodOverride&&t._def.type==="subscription")throw new P({code:"METHOD_NOT_SUPPORTED",message:"Method override is not supported for subscriptions"});return t(r)}const Ae=Symbol();function je(r){return Array.isArray(r)&&r[2]===Ae}function Z(r){return typeof r=="object"&&r!==null&&"subscribe"in r}function Ie(r,e){let n=null;const t=()=>{n==null||n.unsubscribe(),n=null,e.removeEventListener("abort",t)};return new ReadableStream({start(o){n=r.subscribe({next(i){o.enqueue({ok:!0,value:i})},error(i){o.enqueue({ok:!1,error:i}),o.close()},complete(){o.close()}}),e.aborted?t():e.addEventListener("abort",t,{once:!0})},cancel(){t()}})}function Ne(r,e){const t=Ie(r,e).getReader(),o={async next(){const i=await t.read();if(i.done)return{value:void 0,done:!0};const{value:u}=i;if(!u.ok)throw u.error;return{value:u.value,done:!1}},async return(){return await t.cancel(),{value:void 0,done:!0}}};return{[Symbol.asyncIterator](){return o}}}var ie;const B=new WeakMap,De=()=>{},xe=class v{constructor(e){this.subscribers=[],this.settlement=null,this[ie]="Unpromise",typeof e=="function"?this.promise=new Promise(e):this.promise=e;const n=this.promise.then(t=>{const{subscribers:o}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:t},o==null||o.forEach(({resolve:i})=>{i(t)})});"catch"in n&&n.catch(t=>{const{subscribers:o}=this;this.subscribers=null,this.settlement={status:"rejected",reason:t},o==null||o.forEach(({reject:i})=>{i(t)})})}subscribe(){let e,n;const{settlement:t}=this;if(t===null){if(this.subscribers===null)throw new Error("Unpromise settled but still has subscribers");const o=Ue();this.subscribers=Le(this.subscribers,o),e=o.promise,n=()=>{this.subscribers!==null&&(this.subscribers=Be(this.subscribers,o))}}else{const{status:o}=t;o==="fulfilled"?e=Promise.resolve(t.value):e=Promise.reject(t.reason),n=De}return Object.assign(e,{unsubscribe:n})}then(e,n){const t=this.subscribe(),{unsubscribe:o}=t;return Object.assign(t.then(e,n),{unsubscribe:o})}catch(e){const n=this.subscribe(),{unsubscribe:t}=n;return Object.assign(n.catch(e),{unsubscribe:t})}finally(e){const n=this.subscribe(),{unsubscribe:t}=n;return Object.assign(n.finally(e),{unsubscribe:t})}static proxy(e){const n=v.getSubscribablePromise(e);return typeof n<"u"?n:v.createSubscribablePromise(e)}static createSubscribablePromise(e){const n=new v(e);return B.set(e,n),B.set(n,n),n}static getSubscribablePromise(e){return B.get(e)}static resolve(e){const n=typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"?e:Promise.resolve(e);return v.proxy(n).subscribe()}static async any(e){const n=(Array.isArray(e)?e:[...e]).map(v.resolve);try{return await Promise.any(n)}finally{n.forEach(({unsubscribe:t})=>{t()})}}static async race(e){const n=(Array.isArray(e)?e:[...e]).map(v.resolve);try{return await Promise.race(n)}finally{n.forEach(({unsubscribe:t})=>{t()})}}static async raceReferences(e){const n=e.map(Me);try{return await Promise.race(n)}finally{for(const t of n)t.unsubscribe()}}};ie=Symbol.toStringTag;let ae=xe;function Me(r){return ae.proxy(r).then(()=>[r])}function Ue(){let r,e;return{promise:new Promise((n,t)=>{r=n,e=t}),resolve:r,reject:e}}function Le(r,e){return[...r,e]}function ke(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function Be(r,e){const n=r.indexOf(e);return n!==-1?ke(r,n):r}function He(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}const Ye=typeof Symbol=="function"&&!!Symbol.asyncIterator;function $e(r){return Ye&&He(r)&&Symbol.asyncIterator in r}function qe(r,e){const n=r;if(n[Symbol.asyncDispose])throw new Error("Symbol.asyncDispose already exists");return n[Symbol.asyncDispose]=e,n}function We(r){const e=r[Symbol.asyncIterator]();return qe(e,async()=>{var n;await((n=e.return)==null?void 0:n.call(e))})}const ze=r=>r();function Ge(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var D={exports:{}},H,X;function Qe(){if(X)return H;X=1;var r=1e3,e=r*60,n=e*60,t=n*24,o=t*7,i=t*365.25;H=function(l,s){s=s||{};var a=typeof l;if(a==="string"&&l.length>0)return u(l);if(a==="number"&&isFinite(l))return s.long?c(l):f(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function u(l){if(l=String(l),!(l.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(s){var a=parseFloat(s[1]),d=(s[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*t;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function f(l){var s=Math.abs(l);return s>=t?Math.round(l/t)+"d":s>=n?Math.round(l/n)+"h":s>=e?Math.round(l/e)+"m":s>=r?Math.round(l/r)+"s":l+"ms"}function c(l){var s=Math.abs(l);return s>=t?b(l,s,t,"day"):s>=n?b(l,s,n,"hour"):s>=e?b(l,s,e,"minute"):s>=r?b(l,s,r,"second"):l+" ms"}function b(l,s,a,d){var p=s>=a*1.5;return Math.round(l/a)+" "+d+(p?"s":"")}return H}var Y,ee;function Ve(){if(ee)return Y;ee=1;function r(e){t.debug=t,t.default=t,t.coerce=b,t.disable=f,t.enable=i,t.enabled=c,t.humanize=Qe(),t.destroy=l,Object.keys(e).forEach(s=>{t[s]=e[s]}),t.names=[],t.skips=[],t.formatters={};function n(s){let a=0;for(let d=0;d<s.length;d++)a=(a<<5)-a+s.charCodeAt(d),a|=0;return t.colors[Math.abs(a)%t.colors.length]}t.selectColor=n;function t(s){let a,d=null,p,C;function y(...m){if(!y.enabled)return;const h=y,_=Number(new Date),M=_-(a||_);h.diff=M,h.prev=a,h.curr=_,a=_,m[0]=t.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let E=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(g,U)=>{if(g==="%%")return"%";E++;const z=t.formatters[U];if(typeof z=="function"){const le=m[E];g=z.call(h,le),m.splice(E,1),E--}return g}),t.formatArgs.call(h,m),(h.log||t.log).apply(h,m)}return y.namespace=s,y.useColors=t.useColors(),y.color=t.selectColor(s),y.extend=o,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==t.namespaces&&(p=t.namespaces,C=t.enabled(s)),C),set:m=>{d=m}}),typeof t.init=="function"&&t.init(y),y}function o(s,a){const d=t(this.namespace+(typeof a>"u"?":":a)+s);return d.log=this.log,d}function i(s){t.save(s),t.namespaces=s,t.names=[],t.skips=[];const a=(typeof s=="string"?s:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of a)d[0]==="-"?t.skips.push(d.slice(1)):t.names.push(d)}function u(s,a){let d=0,p=0,C=-1,y=0;for(;d<s.length;)if(p<a.length&&(a[p]===s[d]||a[p]==="*"))a[p]==="*"?(C=p,y=d,p++):(d++,p++);else if(C!==-1)p=C+1,y++,d=y;else return!1;for(;p<a.length&&a[p]==="*";)p++;return p===a.length}function f(){const s=[...t.names,...t.skips.map(a=>"-"+a)].join(",");return t.enable(""),s}function c(s){for(const a of t.skips)if(u(s,a))return!1;for(const a of t.names)if(u(s,a))return!0;return!1}function b(s){return s instanceof Error?s.stack||s.message:s}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Y=r,Y}var re;function Ke(){return re||(re=1,function(r,e){e.formatArgs=t,e.save=o,e.load=i,e.useColors=n,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const b="color: "+this.color;c.splice(1,0,b,"color: inherit");let l=0,s=0;c[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(l++,a==="%c"&&(s=l))}),c.splice(s,0,b)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=Ve()(e);const{formatters:f}=r.exports;f.j=function(c){try{return JSON.stringify(c)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}(D,D.exports)),D.exports}var Je=Ke();const ce=Ge(Je),Ze=ce("electron-trpc:main:handleIPCMessage");async function Xe({router:r,createContext:e,internalId:n,message:t,event:o,subscriptions:i}){var d;if(t.method==="subscription.stop"){(d=i.get(n))==null||d.abort();return}const{type:u,input:f,path:c,id:b}=t.operation,l=f?r._def._config.transformer.input.deserialize(f):void 0,s=await(e==null?void 0:e({event:o}))??{},a=p=>{o.sender.isDestroyed()||o.reply(q,Fe(r._def._config,p))};try{const p=new AbortController,C=await Se({ctx:s,path:c,router:r,getRawInput:async()=>l,type:u,signal:p.signal}),y=$e(C)||Z(C);if(u!=="subscription"){if(y)throw new P({code:"UNSUPPORTED_MEDIA_TYPE",message:`Cannot return an async iterable or observable from a ${u} procedure.`});a({id:b,result:{type:"data",data:C}});return}if(!y)throw new P({message:`Subscription ${c} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"});if(i.has(n))throw new P({message:`Duplicate id ${n}`,code:"BAD_REQUEST"});const m=Z(C)?Ne(C,p.signal):C;ze(async()=>{var _;const h=We(m);try{const M=new Promise(g=>{p.signal.onabort=()=>g("abort")});let E,R;for(;;){if(E=await ae.race([h.next().catch(N),M]),E==="abort"){await((_=h.return)==null?void 0:_.call(h));break}if(E instanceof Error){const g=N(E);a({id:b,error:k({config:r._def._config,error:g,type:u,path:c,input:l,ctx:s})});break}if(E.done)break;if(R={type:"data",data:E.value},je(E.value)){const[g,U]=E.value;R.id=g,R.data={id:g,data:U}}a({id:b,result:R}),E=null,R=null}a({id:b,result:{type:"stopped"}}),i.delete(n)}finally{await h[Symbol.asyncDispose]()}}).catch(h=>{const _=N(h);a({id:b,error:k({config:r._def._config,error:_,type:u,path:c,input:l,ctx:s})}),p.abort()}),a({id:b,result:{type:"started"}}),Ze("Creating subscription",n),i.set(n,p)}catch(p){const C=N(p);return a({id:b,error:k({config:r._def._config,error:C,type:u,path:c,input:l,ctx:s})})}}const er=ce("electron-trpc:main:IPCHandler"),rr=(r,e)=>{const n=e.method==="request"?e.operation.id:e.id;return`${r.sender.id}-${r.senderFrame.routingId}:${n}`};var O,S,F,$,ue;class tr{constructor({createContext:e,router:n,windows:t=[]}){j(this,F);j(this,O,[]);j(this,S,new Map);t.forEach(o=>this.attachWindow(o)),fe.ipcMain.on(q,(o,i)=>{Xe({router:n,createContext:e,internalId:rr(o,i),event:o,message:i,subscriptions:w(this,S)})})}attachWindow(e){w(this,O).includes(e)||(er("Attaching window",e.id),w(this,O).push(e),I(this,F,ue).call(this,e))}detachWindow(e,n){if(Q(this,O,w(this,O).filter(t=>t!==e)),e.isDestroyed()&&n===void 0)throw new Error("webContentsId is required when calling detachWindow on a destroyed window");I(this,F,$).call(this,{webContentsId:n??e.webContents.id})}}O=new WeakMap,S=new WeakMap,F=new WeakSet,$=function({webContentsId:e,frameRoutingId:n}){for(const[t,o]of w(this,S).entries())t.startsWith(`${e}-${n??""}`)&&(o.abort(),w(this,S).delete(t))},ue=function(e){const n=e.webContents.id;e.webContents.on("did-start-navigation",({isSameDocument:t,frame:o})=>{t||I(this,F,$).call(this,{webContentsId:n,frameRoutingId:o.routingId})}),e.webContents.on("destroyed",()=>{this.detachWindow(e,n)})};const nr=({createContext:r,router:e,windows:n=[]})=>new tr({createContext:r,router:e,windows:n});exports.ELECTRON_TRPC_CHANNEL=q;exports.createIPCHandler=nr;
+"use strict";var G=r=>{throw TypeError(r)};var L=(r,e,n)=>e.has(r)||G("Cannot "+n);var w=(r,e,n)=>(L(r,e,"read from private field"),n?n.call(r):e.get(r)),j=(r,e,n)=>e.has(r)?G("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),Q=(r,e,n,t)=>(L(r,e,"write to private field"),t?t.call(r,n):e.set(r,n),n),I=(r,e,n)=>(L(r,e,"access private method"),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const fe=require("electron"),q="electron-trpc",de={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,BAD_GATEWAY:-32603,SERVICE_UNAVAILABLE:-32603,GATEWAY_TIMEOUT:-32603,UNAUTHORIZED:-32001,PAYMENT_REQUIRED:-32002,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNSUPPORTED_MEDIA_TYPE:-32015,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};function pe(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}var be=Object.create,te=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,ne=Object.getOwnPropertyNames,Ce=Object.getPrototypeOf,he=Object.prototype.hasOwnProperty,A=(r,e)=>function(){return e||(0,r[ne(r)[0]])((e={exports:{}}).exports,e),e.exports},me=(r,e,n,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(var o=ne(e),i=0,u=o.length,f;i<u;i++)f=o[i],!he.call(r,f)&&f!==n&&te(r,f,{get:(c=>e[c]).bind(null,f),enumerable:!(t=ye(e,f))||t.enumerable});return r},x=(r,e,n)=>(n=r!=null?be(Ce(r)):{},me(te(n,"default",{value:r,enumerable:!0}),r));const Ee={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504};function ge(r){var e;return(e=Ee[r])!==null&&e!==void 0?e:500}function _e(r){return ge(r.code)}var oe=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(r,e){function n(t){"@babel/helpers - typeof";return e.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}),we=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(r,e){var n=oe().default;function t(o,i){if(n(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var f=u.call(o,i||"default");if(n(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}),ve=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(r,e){var n=oe().default,t=we();function o(i){var u=t(i,"string");return n(u)=="symbol"?u:u+""}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}),se=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(r,e){var n=ve();function t(o,i,u){return(i=n(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u,o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}),W=A({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(r,e){var n=se();function t(i,u){var f=Object.keys(i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);u&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(i,b).enumerable})),f.push.apply(f,c)}return f}function o(i){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?t(Object(f),!0).forEach(function(c){n(i,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(f)):t(Object(f)).forEach(function(c){Object.defineProperty(i,c,Object.getOwnPropertyDescriptor(f,c))})}return i}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}),V=x(W());function k(r){const{path:e,error:n,config:t}=r,{code:o}=r.error,i={message:n.message,code:de[o],data:{code:o,httpStatus:_e(n)}};return t.isDev&&typeof r.error.stack=="string"&&(i.data.stack=r.error.stack),typeof e=="string"&&(i.data.path=e),t.errorFormatter((0,V.default)((0,V.default)({},r),{},{shape:i}))}var K=x(se()),Oe=class extends Error{};function Pe(r){if(r instanceof Error)return r;const e=typeof r;if(!(e==="undefined"||e==="function"||r===null)){if(e!=="object")return new Error(String(r));if(pe(r))return Object.assign(new Oe,r)}}function N(r){if(r instanceof P||r instanceof Error&&r.name==="TRPCError")return r;const e=new P({code:"INTERNAL_SERVER_ERROR",cause:r});return r instanceof Error&&r.stack&&(e.stack=r.stack),e}var P=class extends Error{constructor(r){var e,n,t;const o=Pe(r.cause),i=(e=(n=r.message)!==null&&n!==void 0?n:o==null?void 0:o.message)!==null&&e!==void 0?e:r.code;super(i,{cause:o}),(0,K.default)(this,"cause",void 0),(0,K.default)(this,"code",void 0),this.code=r.code,this.name="TRPCError",(t=this.cause)!==null&&t!==void 0||(this.cause=o)}},T=x(W());function J(r,e){return"error"in e?(0,T.default)((0,T.default)({},e),{},{error:r.transformer.output.serialize(e.error)}):"data"in e.result?(0,T.default)((0,T.default)({},e),{},{result:(0,T.default)((0,T.default)({},e.result),{},{data:r.transformer.output.serialize(e.result.data)})}):e}function Fe(r,e){return Array.isArray(e)?e.map(n=>J(r,n)):J(r,e)}x(W());function Re(r){return typeof r=="function"}async function Te(r,e){const{_def:n}=r;let t=n.procedures[e];for(;!t;){const o=Object.keys(n.lazy).find(u=>e.startsWith(u));if(!o)return null;await n.lazy[o].load(),t=n.procedures[e]}return t}async function Se(r){const{type:e,path:n}=r,t=await Te(r.router,n);if(!t||!Re(t)||t._def.type!==e&&!r.allowMethodOverride)throw new P({code:"NOT_FOUND",message:`No "${e}"-procedure on path "${n}"`});/* istanbul ignore if -- @preserve */if(t._def.type!==e&&r.allowMethodOverride&&t._def.type==="subscription")throw new P({code:"METHOD_NOT_SUPPORTED",message:"Method override is not supported for subscriptions"});return t(r)}const Ae=Symbol();function je(r){return Array.isArray(r)&&r[2]===Ae}function Z(r){return typeof r=="object"&&r!==null&&"subscribe"in r}function Ie(r,e){let n=null;const t=()=>{n==null||n.unsubscribe(),n=null,e.removeEventListener("abort",t)};return new ReadableStream({start(o){n=r.subscribe({next(i){o.enqueue({ok:!0,value:i})},error(i){o.enqueue({ok:!1,error:i}),o.close()},complete(){o.close()}}),e.aborted?t():e.addEventListener("abort",t,{once:!0})},cancel(){t()}})}function Ne(r,e){const t=Ie(r,e).getReader(),o={async next(){const i=await t.read();if(i.done)return{value:void 0,done:!0};const{value:u}=i;if(!u.ok)throw u.error;return{value:u.value,done:!1}},async return(){return await t.cancel(),{value:void 0,done:!0}}};return{[Symbol.asyncIterator](){return o}}}var ie;const B=new WeakMap,De=()=>{},xe=class v{constructor(e){this.subscribers=[],this.settlement=null,this[ie]="Unpromise",typeof e=="function"?this.promise=new Promise(e):this.promise=e;const n=this.promise.then(t=>{const{subscribers:o}=this;this.subscribers=null,this.settlement={status:"fulfilled",value:t},o==null||o.forEach(({resolve:i})=>{i(t)})});"catch"in n&&n.catch(t=>{const{subscribers:o}=this;this.subscribers=null,this.settlement={status:"rejected",reason:t},o==null||o.forEach(({reject:i})=>{i(t)})})}subscribe(){let e,n;const{settlement:t}=this;if(t===null){if(this.subscribers===null)throw new Error("Unpromise settled but still has subscribers");const o=Ue();this.subscribers=Le(this.subscribers,o),e=o.promise,n=()=>{this.subscribers!==null&&(this.subscribers=Be(this.subscribers,o))}}else{const{status:o}=t;o==="fulfilled"?e=Promise.resolve(t.value):e=Promise.reject(t.reason),n=De}return Object.assign(e,{unsubscribe:n})}then(e,n){const t=this.subscribe(),{unsubscribe:o}=t;return Object.assign(t.then(e,n),{unsubscribe:o})}catch(e){const n=this.subscribe(),{unsubscribe:t}=n;return Object.assign(n.catch(e),{unsubscribe:t})}finally(e){const n=this.subscribe(),{unsubscribe:t}=n;return Object.assign(n.finally(e),{unsubscribe:t})}static proxy(e){const n=v.getSubscribablePromise(e);return typeof n<"u"?n:v.createSubscribablePromise(e)}static createSubscribablePromise(e){const n=new v(e);return B.set(e,n),B.set(n,n),n}static getSubscribablePromise(e){return B.get(e)}static resolve(e){const n=typeof e=="object"&&e!==null&&"then"in e&&typeof e.then=="function"?e:Promise.resolve(e);return v.proxy(n).subscribe()}static async any(e){const n=(Array.isArray(e)?e:[...e]).map(v.resolve);try{return await Promise.any(n)}finally{n.forEach(({unsubscribe:t})=>{t()})}}static async race(e){const n=(Array.isArray(e)?e:[...e]).map(v.resolve);try{return await Promise.race(n)}finally{n.forEach(({unsubscribe:t})=>{t()})}}static async raceReferences(e){const n=e.map(Me);try{return await Promise.race(n)}finally{for(const t of n)t.unsubscribe()}}};ie=Symbol.toStringTag;let ae=xe;function Me(r){return ae.proxy(r).then(()=>[r])}function Ue(){let r,e;return{promise:new Promise((n,t)=>{r=n,e=t}),resolve:r,reject:e}}function Le(r,e){return[...r,e]}function ke(r,e){return[...r.slice(0,e),...r.slice(e+1)]}function Be(r,e){const n=r.indexOf(e);return n!==-1?ke(r,n):r}function He(r){return!!r&&!Array.isArray(r)&&typeof r=="object"}const Ye=typeof Symbol=="function"&&!!Symbol.asyncIterator;function $e(r){return Ye&&He(r)&&Symbol.asyncIterator in r}function qe(r,e){const n=r;if(n[Symbol.asyncDispose])return n;return n[Symbol.asyncDispose]=e,n}function We(r){const e=r[Symbol.asyncIterator]();return qe(e,async()=>{var n;await((n=e.return)==null?void 0:n.call(e))})}const ze=r=>r();function Ge(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var D={exports:{}},H,X;function Qe(){if(X)return H;X=1;var r=1e3,e=r*60,n=e*60,t=n*24,o=t*7,i=t*365.25;H=function(l,s){s=s||{};var a=typeof l;if(a==="string"&&l.length>0)return u(l);if(a==="number"&&isFinite(l))return s.long?c(l):f(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))};function u(l){if(l=String(l),!(l.length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(s){var a=parseFloat(s[1]),d=(s[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"weeks":case"week":case"w":return a*o;case"days":case"day":case"d":return a*t;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*e;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function f(l){var s=Math.abs(l);return s>=t?Math.round(l/t)+"d":s>=n?Math.round(l/n)+"h":s>=e?Math.round(l/e)+"m":s>=r?Math.round(l/r)+"s":l+"ms"}function c(l){var s=Math.abs(l);return s>=t?b(l,s,t,"day"):s>=n?b(l,s,n,"hour"):s>=e?b(l,s,e,"minute"):s>=r?b(l,s,r,"second"):l+" ms"}function b(l,s,a,d){var p=s>=a*1.5;return Math.round(l/a)+" "+d+(p?"s":"")}return H}var Y,ee;function Ve(){if(ee)return Y;ee=1;function r(e){t.debug=t,t.default=t,t.coerce=b,t.disable=f,t.enable=i,t.enabled=c,t.humanize=Qe(),t.destroy=l,Object.keys(e).forEach(s=>{t[s]=e[s]}),t.names=[],t.skips=[],t.formatters={};function n(s){let a=0;for(let d=0;d<s.length;d++)a=(a<<5)-a+s.charCodeAt(d),a|=0;return t.colors[Math.abs(a)%t.colors.length]}t.selectColor=n;function t(s){let a,d=null,p,C;function y(...m){if(!y.enabled)return;const h=y,_=Number(new Date),M=_-(a||_);h.diff=M,h.prev=a,h.curr=_,a=_,m[0]=t.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let E=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(g,U)=>{if(g==="%%")return"%";E++;const z=t.formatters[U];if(typeof z=="function"){const le=m[E];g=z.call(h,le),m.splice(E,1),E--}return g}),t.formatArgs.call(h,m),(h.log||t.log).apply(h,m)}return y.namespace=s,y.useColors=t.useColors(),y.color=t.selectColor(s),y.extend=o,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==t.namespaces&&(p=t.namespaces,C=t.enabled(s)),C),set:m=>{d=m}}),typeof t.init=="function"&&t.init(y),y}function o(s,a){const d=t(this.namespace+(typeof a>"u"?":":a)+s);return d.log=this.log,d}function i(s){t.save(s),t.namespaces=s,t.names=[],t.skips=[];const a=(typeof s=="string"?s:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const d of a)d[0]==="-"?t.skips.push(d.slice(1)):t.names.push(d)}function u(s,a){let d=0,p=0,C=-1,y=0;for(;d<s.length;)if(p<a.length&&(a[p]===s[d]||a[p]==="*"))a[p]==="*"?(C=p,y=d,p++):(d++,p++);else if(C!==-1)p=C+1,y++,d=y;else return!1;for(;p<a.length&&a[p]==="*";)p++;return p===a.length}function f(){const s=[...t.names,...t.skips.map(a=>"-"+a)].join(",");return t.enable(""),s}function c(s){for(const a of t.skips)if(u(s,a))return!1;for(const a of t.names)if(u(s,a))return!0;return!1}function b(s){return s instanceof Error?s.stack||s.message:s}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return Y=r,Y}var re;function Ke(){return re||(re=1,function(r,e){e.formatArgs=t,e.save=o,e.load=i,e.useColors=n,e.storage=u(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const b="color: "+this.color;c.splice(1,0,b,"color: inherit");let l=0,s=0;c[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(l++,a==="%c"&&(s=l))}),c.splice(s,0,b)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function u(){try{return localStorage}catch{}}r.exports=Ve()(e);const{formatters:f}=r.exports;f.j=function(c){try{return JSON.stringify(c)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}(D,D.exports)),D.exports}var Je=Ke();const ce=Ge(Je),Ze=ce("electron-trpc:main:handleIPCMessage");async function Xe({router:r,createContext:e,internalId:n,message:t,event:o,subscriptions:i}){var d;if(t.method==="subscription.stop"){(d=i.get(n))==null||d.abort();return}const{type:u,input:f,path:c,id:b}=t.operation,l=f?r._def._config.transformer.input.deserialize(f):void 0,s=await(e==null?void 0:e({event:o}))??{},a=p=>{o.sender.isDestroyed()||o.reply(q,Fe(r._def._config,p))};try{const p=new AbortController,C=await Se({ctx:s,path:c,router:r,getRawInput:async()=>l,type:u,signal:p.signal}),y=$e(C)||Z(C);if(u!=="subscription"){if(y)throw new P({code:"UNSUPPORTED_MEDIA_TYPE",message:`Cannot return an async iterable or observable from a ${u} procedure.`});a({id:b,result:{type:"data",data:C}});return}if(!y)throw new P({message:`Subscription ${c} did not return an observable or a AsyncGenerator`,code:"INTERNAL_SERVER_ERROR"});if(i.has(n))throw new P({message:`Duplicate id ${n}`,code:"BAD_REQUEST"});const m=Z(C)?Ne(C,p.signal):C;ze(async()=>{var _;const h=We(m);try{const M=new Promise(g=>{p.signal.onabort=()=>g("abort")});let E,R;for(;;){if(E=await ae.race([h.next().catch(N),M]),E==="abort"){await((_=h.return)==null?void 0:_.call(h));break}if(E instanceof Error){const g=N(E);a({id:b,error:k({config:r._def._config,error:g,type:u,path:c,input:l,ctx:s})});break}if(E.done)break;if(R={type:"data",data:E.value},je(E.value)){const[g,U]=E.value;R.id=g,R.data={id:g,data:U}}a({id:b,result:R}),E=null,R=null}a({id:b,result:{type:"stopped"}}),i.delete(n)}finally{await h[Symbol.asyncDispose]()}}).catch(h=>{const _=N(h);a({id:b,error:k({config:r._def._config,error:_,type:u,path:c,input:l,ctx:s})}),p.abort()}),a({id:b,result:{type:"started"}}),Ze("Creating subscription",n),i.set(n,p)}catch(p){const C=N(p);return a({id:b,error:k({config:r._def._config,error:C,type:u,path:c,input:l,ctx:s})})}}const er=ce("electron-trpc:main:IPCHandler"),rr=(r,e)=>{const n=e.method==="request"?e.operation.id:e.id;return`${r.sender.id}-${r.senderFrame.routingId}:${n}`};var O,S,F,$,ue;class tr{constructor({createContext:e,router:n,windows:t=[]}){j(this,F);j(this,O,[]);j(this,S,new Map);t.forEach(o=>this.attachWindow(o)),fe.ipcMain.on(q,(o,i)=>{Xe({router:n,createContext:e,internalId:rr(o,i),event:o,message:i,subscriptions:w(this,S)})})}attachWindow(e){w(this,O).includes(e)||(er("Attaching window",e.id),w(this,O).push(e),I(this,F,ue).call(this,e))}detachWindow(e,n){if(Q(this,O,w(this,O).filter(t=>t!==e)),e.isDestroyed()&&n===void 0)throw new Error("webContentsId is required when calling detachWindow on a destroyed window");I(this,F,$).call(this,{webContentsId:n??e.webContents.id})}}O=new WeakMap,S=new WeakMap,F=new WeakSet,$=function({webContentsId:e,frameRoutingId:n}){for(const[t,o]of w(this,S).entries())t.startsWith(`${e}-${n??""}`)&&(o.abort(),w(this,S).delete(t))},ue=function(e){const n=e.webContents.id;e.webContents.on("did-start-navigation",({isSameDocument:t,frame:o})=>{t||I(this,F,$).call(this,{webContentsId:n,frameRoutingId:o.routingId})}),e.webContents.on("destroyed",()=>{this.detachWindow(e,n)})};const nr=({createContext:r,router:e,windows:n=[]})=>new tr({createContext:r,router:e,windows:n});exports.ELECTRON_TRPC_CHANNEL=q;exports.createIPCHandler=nr;
diff --git a/node_modules/electron-trpc-experimental/dist/main.mjs b/node_modules/electron-trpc-experimental/dist/main.mjs
index c50ea6f..97faa04 100644
--- a/node_modules/electron-trpc-experimental/dist/main.mjs
+++ b/node_modules/electron-trpc-experimental/dist/main.mjs
@@ -446,7 +446,7 @@ function He(r) {
 function We(r, e) {
   const n = r;
   if (n[Symbol.asyncDispose])
-    throw new Error("Symbol.asyncDispose already exists");
+    return n;
   return n[Symbol.asyncDispose] = e, n;
 }
 function qe(r) {
diff --git a/node_modules/electron-trpc-experimental/src/main/utils.ts b/node_modules/electron-trpc-experimental/src/main/utils.ts
index 8e26af2..d8251b3 100644
--- a/node_modules/electron-trpc-experimental/src/main/utils.ts
+++ b/node_modules/electron-trpc-experimental/src/main/utils.ts
@@ -20,7 +20,8 @@ export function makeAsyncResource<T>(thing: T, dispose: () => Promise<void>): T
 
   // eslint-disable-next-line no-restricted-syntax
   if (it[Symbol.asyncDispose]) {
-    throw new Error('Symbol.asyncDispose already exists');
+    // Already has asyncDispose (native support in Node 20+), return as-is
+    return it;
   }
 
   // eslint-disable-next-line no-restricted-syntax
